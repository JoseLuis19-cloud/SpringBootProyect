<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
  <head>
  
	<link th:rel="stylesheet" th:href="@{/webjars/bootstrap/4.5.3/css/bootstrap.min.css}" />
	<link th:rel="stylesheet" th:href="@{/css/CustomBootstrap.css}" />
	
	<style> 	
	.divRounded {
   margin-top: 10px;
   margin-left: 10px;
   border-color: black;
   border-radius: 10px;
   border-style: solid;
   border-width: 1px;
   width: 100%;
   margin-right: 0;
   padding: 10px;
}
    </style> 
    
    <script th:src="@{/webjars/jquery/3.5.1/jquery.min.js}"></script>
	<script th:src="@{/webjars/popper.js/1.14.3/umd/popper.min.js}"></script>
 
</head>

 <body>

<div th:insert="Aplicacion/fragments/BotoneraMenuCabecera2 :: menucabecera"></div>
	
	<div class="container-fluid">
		<div class="row">
			<div class="titulo-pag2">Administración</div>
		</div>
		<form th:action="@{/administracion/generarcopiaseguridad}" th:object="${datosCopSeg}" method="post">
		<div class="row">
			<div class="col-2"></div>
  			<div class="col-8">
  				<div class="subtitulo-pag2">Copias de seguridad realizadas de la base de datos de Beigar</div>
  			</div>
  			<div class="col-2"></div>
  		</div>
  		<div class="row">
			<br>
			<div class="col-2"></div>
  			<div class="col-8" style="border-bottom: 2px solid #000">
  				<table class="table table-striped table-sm table-condensed">
						<thead class="thead-light">
						<tr>
							<th th:text="'Copias de seguridad realizadas'"></th>
							<th th:text="'fecha de creación'"></th>
						</tr>
					</thead>
					<tbody>
						<tr th:if="${listFicheros.empty}">
							<td colspan="2">No se han encontrado copias seguridad de Beigar todavía</td>
						</tr>
						<tr th:each="fichero:${listFicheros}">
							<td th:text="${fichero.nomFichero}"></td>
							<td th:text="${fichero.fechaCreacion}"></td>
						</tr>
					</tbody>
				</table> 
  			</div>
  			<div class="col-2"></div>
  		</div>
  		<br>		 
 		<div class="row">
			<div class="col-2"></div>
  			<div class="col-8 text-right"><button type="submit" class="btn btn-primary">Generar Copia Seguridad</button></div>
  			<div class="col-2"></div>
		</div>
		<div class="row">
			<div class="col-2"></div>
  			<div class="col-8" >
  				<strong>Nota:</strong> 
  				<div class="divRounded">
  					<p th:text="'. La copia de seguridad de la base de datos se realiza en el siguiente path:  ' + ${pathDestinoCopia}"></p>
					<p>. Es recomendable para realizar la copia de seguridad, que no esté utilizando ningún usuario la aplicación en el momento</p>
				</div>
  			</div>
  			<div class="col-2"></div>
  		</div>
 		</form>
 	</div>
	
</body>
</html>